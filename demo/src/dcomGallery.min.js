"use strict";angular.module("dcomGallery",[]).directive("dcomGalleryPic",["$rootScope","$timeout",function(a,b){return{restrict:"A",replace:!0,template:'<div class="galleryPic"><img ng-src="{{resolvedPic}}" class="{{loaderClass}} {{orientation}}" /><div class="loader"></div></div>',link:function(c,d){c.resolvedPic=null,c.loaderClass=null;var e=new Image,f="images/thumb/"+c.pic+".jpg";e.onload=function(){c.orientation=e.width>e.height?"landscapeImg":"portraitImg",b(function(){c.$apply(function(){c.resolvedPic=f})})},e.src=f,c.$watch("resolvedPic",function(a){a&&(c.loaderClass="loaded")}),d.bind("click",function(){c.$apply(function(){a.hidePic=!0,b(function(){a.fullSizeImg=c.pic,a.hidePic=!1},500)})})}}}]).directive("dcomFullSizePic",function(){return{restrict:"A",replace:!0,template:'<img ng-src="images/gallery/{{fullSizeImg}}.jpg" class="maximizedImg" ng-class="{hiddenPic: hidePic}" />',link:function(a,b){a.$watch(function(){return $(window).height()},function(a){b.parent().css("height",a+"px")}),b.bind("contextmenu rightclick",function(a){a.preventDefault()})}}});