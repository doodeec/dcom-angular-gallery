"use strict";angular.module("dcomGallery",[]).directive("dcomGalleryPic",["$rootScope","$timeout",function(a,b){return{restrict:"A",replace:!0,template:'<div class="galleryPic"><img ng-src="{{resolvedPic}}" class="{{loaderClass}} {{orientation}}" /><div class="loader"></div></div>',link:function(c,d){c.resolvedPic=null,c.loaderClass=null;var e=new Image,f="images/thumb/"+c.pic+".jpg";e.onload=function(){c.$apply(function(){c.orientation=e.width>e.height?"landscapeImg":"portraitImg",c.resolvedPic=f})},e.src=f,c.$watch("resolvedPic",function(a){a&&(c.loaderClass="loaded")}),d.bind("click",function(){c.$apply(function(){a.hidePic=!0,b(function(){a.fullSizeImg=c.pic},500)})})}}}]).directive("dcomFullSizePic",["$rootScope",function(a){return{restrict:"A",replace:!0,template:'<img ng-src="images/gallery/{{fullSizeImg}}.jpg" class="maximizedImg" ng-class="{hiddenPic: hidePic}" />',link:function(b,c){b.$watch(function(){return $(window).height()},function(a){c.parent().css("height",a+"px")}),a.$watch("fullSizeImg",function(c){var d=new Image,e="images/gallery/"+c+".jpg";d.onload=function(){b.$apply(function(){a.hidePic=!1})},d.src=e}),c.bind("contextmenu rightclick",function(a){a.preventDefault()})}}}]);