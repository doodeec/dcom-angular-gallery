"use strict";angular.module("dcomGallery",[]).directive("dcomGalleryPic",[function(){return{restrict:"A",replace:!0,scope:!0,template:'<div class="galleryPic"><img ng-src="{{resolvedPic}}" ng-class="{loaded: resolvedPic}" class="{{orientation}}" /><div class="loader"></div></div>',link:function(a,b){a.resolvedPic=null,a.orientation=null;var c=new Image,d="images/thumb/"+a.pic+".jpg";c.onload=function(){a.$apply(function(){a.orientation=c.width>c.height?"landscapeImg":"portraitImg",a.resolvedPic=d})},c.src=d,b.bind("click",function(b){b&&b.preventDefault(),a.changeImg(a.pic)})}}}]).directive("dcomFullSizePic",["$rootScope",function(a){return{restrict:"A",replace:!0,template:'<img ng-src="images/gallery/{{fullSizeImg}}.jpg" class="maximizedImg"ng-class="{hiddenPic: hidePic}" />',link:function(b,c){b.$watch(function(){return $(window).height()},function(a){c.parent().css("height",a+"px")}),a.$watch("fullSizeImg",function(c){var d=new Image,e="images/gallery/"+c+".jpg";d.onload=function(){b.$apply(function(){a.hidePic=!1})},d.src=e}),c.bind("contextmenu rightclick",function(a){a.preventDefault()})}}}]);